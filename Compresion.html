<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compresión de String</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        table {
            margin: 20px auto;
            border-collapse: collapse;
            width: 50%;
        }
        th, td {
            border: 1px solid black;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: lightgray;
        }
    </style>
</head>

<body>

    <h1>Compresión de String</h1>
    <form id="form-str">
        <div id="div-str">
            <label for="input-texto">Ingrese un texto:</label>
        </div>
        <div id="div-str">
            <input id="input-texto" type="text"  placeholder="Ej: aabcccccaaa">
        </div>
        
        <div id="div-str">
            <button type="submit" >Comprimir</button>
        </div>
        

    </form>


    <table id="tabla-string">
        <thead>
            <tr>
                <th>Texto Original</th>
            </tr>
        </thead>
        <tbody id="tabla-resultados"></tbody>
    </table>

    <script>
        // Función que comprime un string basado en los caracteres consecutivos repetidos
        function comprimirString(str) {
            if (str.length === 0) return ""; // Si la cadena está vacía, retorna vacío
            
            let resultado = "";
            let contador =1;

            for (let i = 0; i < str.length; i++) {
                if (str[i] === str[i + 1]) {
                    contador++;
                } else {
                    resultado += str[i] + contador;
                    contador = contador+=1;
                }
            }

            return resultado.length <= str.length ? resultado : str; 
            // Retorna el string comprimido solo si es más corto que el original
        }


        document.getElementById("form-str").addEventListener("submit", function (event) {
            event.preventDefault();

            

            let compress = document.getElementById("input-texto").value.trim();
            if (compress === "") {
                alert("Por favor, ingrese un texto.");
                return;
            }
            let inputStr = comprimirString(compress);
            let tabla = document.getElementById("tabla-resultados");
            let nuevaFila = document.createElement("tr");
            let textoColum = document.createElement("td");
            textoColum.textContent = inputStr;
            textoColum.classList.add("compresion-texto");
            nuevaFila.appendChild(textoColum);
            tabla.appendChild(nuevaFila);

            inputStr.value = "";
            
        })





        function procesarTexto() {
            let texto = document.getElementById("input-texto").value.trim();

            if (texto === "") {
                alert("Por favor, ingrese un texto.");
                return;
            }

            let textoComprimido = comprimirString(texto);

            // Agregar resultado a la tabla
            let tabla = document.getElementById("tabla-resultados");
            let nuevaFila = document.createElement("tr");
            let textoColum = document.createElement("td");


            tabla.appendChild(nuevaFila);
            nuevaFila.appendChild(textoColum);

        }
    </script>

</body>

</html>
